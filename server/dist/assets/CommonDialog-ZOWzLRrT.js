import{a6 as C,a7 as m,al as N,am as T,an as y,ao as S,j as e,ap as j,aq as k,ar as v,r as h,u as E,I as w}from"./index-wLWO9-d2.js";import{c as x,I as B}from"./useResponsiveWidth-huLhTKBL.js";import{l as I}from"./last-IOi7af79.js";import{B as D}from"./Button-Y8r740D0.js";const L=()=>({state:C(s=>s.dialog),getState:()=>m.getState().dialog,pushDialogStack:s=>{m.dispatch(N(s))},popDialogStack:()=>{m.dispatch(T())},removeDialog:s=>{m.dispatch(y(s))},topDialogStack:()=>I(m.getState().dialog.dialogStack)}),F=-1,A=200,$=3600*24*1e3,K=2,W=10,M=t=>{const{children:s,className:u,containerClassName:a,clickSpaceDestroy:r,dialogName:n,destroy:d}=t,i=L(),o=h.useRef(null),c=i.state.dialogStack.findIndex(l=>l===n);h.useEffect(()=>{i.pushDialogStack(n);const l=p=>{p.code==="Escape"&&n===i.topDialogStack()&&d()};return document.body.addEventListener("keydown",l),()=>{document.body.removeEventListener("keydown",l),i.removeDialog(n)}},[]),h.useEffect(()=>{c>0&&o.current&&(o.current.style.marginTop=`${c*16}px`)},[c]);const g=()=>{r&&d()};return e.jsx("div",{className:x("dialog-wrapper",u),onMouseDown:g,children:e.jsx("div",{ref:o,className:x("dialog-container",a),onMouseDown:l=>l.stopPropagation(),children:s})})};function P(t,s,u){const a=document.createElement("div"),r=S(a);document.body.append(a),setTimeout(()=>{var o;(o=a.firstElementChild)==null||o.classList.add("showup")},0);const n={destroy:()=>{var o,c;(o=a.firstElementChild)==null||o.classList.remove("showup"),(c=a.firstElementChild)==null||c.classList.add("showoff"),setTimeout(()=>{r.unmount(),a.remove()},A)},hide:()=>{var o,c;(o=a.firstElementChild)==null||o.classList.remove("showup"),(c=a.firstElementChild)==null||c.classList.add("showoff")}},d={...u,destroy:n.destroy,hide:n.hide},i=e.jsx(j,{store:m,children:e.jsx(k,{theme:v,children:e.jsx(M,{destroy:n.destroy,hide:n.hide,clickSpaceDestroy:!0,...t,children:e.jsx(s,{...d})})})});return r.render(i),n}const f={title:"",content:"",style:"neutral",closeBtnText:"common.close",confirmBtnText:"common.confirm",onClose:()=>null,onConfirm:()=>null},_=t=>{const s=E(),{title:u,content:a,destroy:r,closeBtnText:n,confirmBtnText:d,onClose:i,onConfirm:o,style:c}={...f,closeBtnText:s(f.closeBtnText),confirmBtnText:s(f.confirmBtnText),...t},g=()=>{i(),r()},l=async()=>{o(),r()};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"dialog-header-container",children:[e.jsx("p",{className:"title-text",children:u}),e.jsx(B,{size:"sm",onClick:g,children:e.jsx(w.X,{className:"w-5 h-auto"})})]}),e.jsxs("div",{className:"dialog-content-container",children:[e.jsx("p",{className:"content-text",children:a}),e.jsxs("div",{className:"mt-4 w-full flex flex-row justify-end items-center gap-2",children:[e.jsx(D,{color:"neutral",variant:"plain",onClick:g,children:n}),e.jsx(D,{color:c,onClick:l,children:d})]})]})]})},q=t=>{P({className:`common-dialog ${(t==null?void 0:t.className)??""}`,dialogName:`common-dialog ${(t==null?void 0:t.className)??""}`},_,t)};export{W as D,K as T,F as U,$ as a,P as g,q as s};
