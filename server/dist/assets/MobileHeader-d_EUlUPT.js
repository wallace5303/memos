import{r as i,j as f,_ as y,v as G,s as le,w as ce,x as _,o as de,I as ue,b as fe}from"./index-wLWO9-d2.js";import{e as Y,r as pe,f as me,d as he,I as be,N as ge,u as ve,c as xe}from"./useResponsiveWidth-huLhTKBL.js";import{U as P,c as Q,g as ye,s as N,r as we,t as Ee,n as Re,d as X,p as W,W as De,q as Ce}from"./Button-Y8r740D0.js";function q(...e){return e.reduce((t,o)=>o==null?t:function(...s){t.apply(this,s),o.apply(this,s)},()=>{})}function K(e){return P(e).defaultView||window}function ke(e){const t=e.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}const Te=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function Ie(e){const t=parseInt(e.getAttribute("tabindex")||"",10);return Number.isNaN(t)?e.contentEditable==="true"||(e.nodeName==="AUDIO"||e.nodeName==="VIDEO"||e.nodeName==="DETAILS")&&e.getAttribute("tabindex")===null?0:e.tabIndex:t}function Pe(e){if(e.tagName!=="INPUT"||e.type!=="radio"||!e.name)return!1;const t=r=>e.ownerDocument.querySelector(`input[type="radio"]${r}`);let o=t(`[name="${e.name}"]:checked`);return o||(o=t(`[name="${e.name}"]`)),o!==e}function Se(e){return!(e.disabled||e.tagName==="INPUT"&&e.type==="hidden"||Pe(e))}function Me(e){const t=[],o=[];return Array.from(e.querySelectorAll(Te)).forEach((r,s)=>{const n=Ie(r);n===-1||!Se(r)||(n===0?t.push(r):o.push({documentOrder:s,tabIndex:n,node:r}))}),o.sort((r,s)=>r.tabIndex===s.tabIndex?r.documentOrder-s.documentOrder:r.tabIndex-s.tabIndex).map(r=>r.node).concat(t)}function Ne(){return!0}function ze(e){const{children:t,disableAutoFocus:o=!1,disableEnforceFocus:r=!1,disableRestoreFocus:s=!1,getTabbable:n=Me,isEnabled:a=Ne,open:c}=e,p=i.useRef(!1),w=i.useRef(null),b=i.useRef(null),g=i.useRef(null),E=i.useRef(null),v=i.useRef(!1),d=i.useRef(null),T=Q(t.ref,d),S=i.useRef(null);i.useEffect(()=>{!c||!d.current||(v.current=!o)},[o,c]),i.useEffect(()=>{if(!c||!d.current)return;const l=P(d.current);return d.current.contains(l.activeElement)||(d.current.hasAttribute("tabIndex")||d.current.setAttribute("tabIndex","-1"),v.current&&d.current.focus()),()=>{s||(g.current&&g.current.focus&&(p.current=!0,g.current.focus()),g.current=null)}},[c]),i.useEffect(()=>{if(!c||!d.current)return;const l=P(d.current),k=x=>{S.current=x,!(r||!a()||x.key!=="Tab")&&l.activeElement===d.current&&x.shiftKey&&(p.current=!0,b.current&&b.current.focus())},R=()=>{const x=d.current;if(x===null)return;if(!l.hasFocus()||!a()||p.current){p.current=!1;return}if(x.contains(l.activeElement)||r&&l.activeElement!==w.current&&l.activeElement!==b.current)return;if(l.activeElement!==E.current)E.current=null;else if(E.current!==null)return;if(!v.current)return;let h=[];if((l.activeElement===w.current||l.activeElement===b.current)&&(h=n(d.current)),h.length>0){var O,D;const j=!!((O=S.current)!=null&&O.shiftKey&&((D=S.current)==null?void 0:D.key)==="Tab"),F=h[0],A=h[h.length-1];typeof F!="string"&&typeof A!="string"&&(j?A.focus():F.focus())}else x.focus()};l.addEventListener("focusin",R),l.addEventListener("keydown",k,!0);const z=setInterval(()=>{l.activeElement&&l.activeElement.tagName==="BODY"&&R()},50);return()=>{clearInterval(z),l.removeEventListener("focusin",R),l.removeEventListener("keydown",k,!0)}},[o,r,s,a,c,n]);const M=l=>{g.current===null&&(g.current=l.relatedTarget),v.current=!0,E.current=l.target;const k=t.props.onFocus;k&&k(l)},I=l=>{g.current===null&&(g.current=l.relatedTarget),v.current=!0};return f.jsxs(i.Fragment,{children:[f.jsx("div",{tabIndex:c?0:-1,onFocus:I,ref:w,"data-testid":"sentinelStart"}),i.cloneElement(t,{ref:T,onFocus:M}),f.jsx("div",{tabIndex:c?0:-1,onFocus:I,ref:b,"data-testid":"sentinelEnd"})]})}function Oe(e){const t=P(e);return t.body===e?K(e).innerWidth>t.documentElement.clientWidth:e.scrollHeight>e.clientHeight}function $(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function J(e){return parseInt(K(e).getComputedStyle(e).paddingRight,10)||0}function Fe(e){const o=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(e.tagName)!==-1,r=e.tagName==="INPUT"&&e.getAttribute("type")==="hidden";return o||r}function V(e,t,o,r,s){const n=[t,o,...r];[].forEach.call(e.children,a=>{const c=n.indexOf(a)===-1,p=!Fe(a);c&&p&&$(a,s)})}function U(e,t){let o=-1;return e.some((r,s)=>t(r)?(o=s,!0):!1),o}function je(e,t){const o=[],r=e.container;if(!t.disableScrollLock){if(Oe(r)){const a=ke(P(r));o.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight=`${J(r)+a}px`;const c=P(r).querySelectorAll(".mui-fixed");[].forEach.call(c,p=>{o.push({value:p.style.paddingRight,property:"padding-right",el:p}),p.style.paddingRight=`${J(p)+a}px`})}let n;if(r.parentNode instanceof DocumentFragment)n=P(r).body;else{const a=r.parentElement,c=K(r);n=(a==null?void 0:a.nodeName)==="HTML"&&c.getComputedStyle(a).overflowY==="scroll"?a:r}o.push({value:n.style.overflow,property:"overflow",el:n},{value:n.style.overflowX,property:"overflow-x",el:n},{value:n.style.overflowY,property:"overflow-y",el:n}),n.style.overflow="hidden"}return()=>{o.forEach(({value:n,el:a,property:c})=>{n?a.style.setProperty(c,n):a.style.removeProperty(c)})}}function Ae(e){const t=[];return[].forEach.call(e.children,o=>{o.getAttribute("aria-hidden")==="true"&&t.push(o)}),t}class $e{constructor(){this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}add(t,o){let r=this.modals.indexOf(t);if(r!==-1)return r;r=this.modals.length,this.modals.push(t),t.modalRef&&$(t.modalRef,!1);const s=Ae(o);V(o,t.mount,t.modalRef,s,!0);const n=U(this.containers,a=>a.container===o);return n!==-1?(this.containers[n].modals.push(t),r):(this.containers.push({modals:[t],container:o,restore:null,hiddenSiblings:s}),r)}mount(t,o){const r=U(this.containers,n=>n.modals.indexOf(t)!==-1),s=this.containers[r];s.restore||(s.restore=je(s,o))}remove(t,o=!0){const r=this.modals.indexOf(t);if(r===-1)return r;const s=U(this.containers,a=>a.modals.indexOf(t)!==-1),n=this.containers[s];if(n.modals.splice(n.modals.indexOf(t),1),this.modals.splice(r,1),n.modals.length===0)n.restore&&n.restore(),t.modalRef&&$(t.modalRef,o),V(n.container,t.mount,t.modalRef,n.hiddenSiblings,!1),this.containers.splice(s,1);else{const a=n.modals[n.modals.length-1];a.modalRef&&$(a.modalRef,!1)}return r}isTopModal(t){return this.modals.length>0&&this.modals[this.modals.length-1]===t}}function He(e){return typeof e=="function"?e():e}function Le(e){return e?e.props.hasOwnProperty("in"):!1}const Be=new $e;function _e(e){const{container:t,disableEscapeKeyDown:o=!1,disableScrollLock:r=!1,manager:s=Be,closeAfterTransition:n=!1,onTransitionEnter:a,onTransitionExited:c,children:p,onClose:w,open:b,rootRef:g}=e,E=i.useRef({}),v=i.useRef(null),d=i.useRef(null),T=Q(d,g),[S,M]=i.useState(!b),I=Le(p);let l=!0;(e["aria-hidden"]==="false"||e["aria-hidden"]===!1)&&(l=!1);const k=()=>P(v.current),R=()=>(E.current.modalRef=d.current,E.current.mount=v.current,E.current),z=()=>{s.mount(R(),{disableScrollLock:r}),d.current&&(d.current.scrollTop=0)},x=Y(()=>{const m=He(t)||k().body;s.add(R(),m),d.current&&z()}),h=i.useCallback(()=>s.isTopModal(R()),[s]),O=Y(m=>{v.current=m,m&&(b&&h()?z():d.current&&$(d.current,l))}),D=i.useCallback(()=>{s.remove(R(),l)},[l,s]);i.useEffect(()=>()=>{D()},[D]),i.useEffect(()=>{b?x():(!I||!n)&&D()},[b,D,I,n,x]);const j=m=>u=>{var C;(C=m.onKeyDown)==null||C.call(m,u),!(u.key!=="Escape"||u.which===229||!h())&&(o||(u.stopPropagation(),w&&w(u,"escapeKeyDown")))},F=m=>u=>{var C;(C=m.onClick)==null||C.call(m,u),u.target===u.currentTarget&&w&&w(u,"backdropClick")};return{getRootProps:(m={})=>{const u=ye(e);delete u.onTransitionEnter,delete u.onTransitionExited;const C=y({},u,m);return y({role:"presentation"},C,{onKeyDown:j(C),ref:T})},getBackdropProps:(m={})=>{const u=m;return y({"aria-hidden":!0},u,{onClick:F(u),open:b})},getTransitionProps:()=>{const m=()=>{M(!1),a&&a()},u=()=>{M(!0),c&&c(),n&&D()};return{onEnter:q(m,p==null?void 0:p.props.onEnter),onExited:q(u,p==null?void 0:p.props.onExited)}},rootRef:T,portalRef:O,isTopModal:h,exited:S,hasTransition:I}}const We=i.createContext(void 0),Ue=We,Ke=G("MuiDialogTitle",["root","h1","h2","h3","h4","title-lg","title-md","title-sm","body-lg","body-md","body-sm","body-xs","colorPrimary","colorNeutral","colorDanger","colorSuccess","colorWarning","colorContext","variantPlain","variantOutlined","variantSoft","variantSolid"]),Ye=i.createContext(void 0),Xe=Ye,qe=i.createContext(void 0),Je=qe,Z=N("div")(({ownerState:e,theme:t})=>y({"--unstable_popup-zIndex":`calc(${t.vars.zIndex.modal} + 1)`,'& ~ [role="listbox"]':{"--unstable_popup-zIndex":`calc(${t.vars.zIndex.modal} + 1)`},position:"fixed",zIndex:t.vars.zIndex.modal,right:0,bottom:0,top:0,left:0},!e.open&&{visibility:"hidden"}));N(Z,{name:"JoyModal",slot:"Root",overridesResolver:(e,t)=>t.root})({});const ee=N("div")(({theme:e})=>({zIndex:-1,position:"fixed",right:0,bottom:0,top:0,left:0,backgroundColor:e.vars.palette.background.backdrop,WebkitTapHighlightColor:"transparent",backdropFilter:"blur(8px)"}));N(ee,{name:"JoyModal",slot:"Backdrop",overridesResolver:(e,t)=>t.backdrop})({});function Ve(e){return le("MuiDrawer",e)}G("MuiDrawer",["root","hidden","backdrop","content","colorPrimary","colorNeutral","colorDanger","colorSuccess","colorWarning","colorContext","variantPlain","variantOutlined","variantSoft","variantSolid","sizeSm","sizeMd","sizeLg"]);const Ge=["children","anchor","container","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","color","variant","invertedColors","size","onClose","onKeyDown","open","component","slots","slotProps"],Qe=e=>{const{open:t,variant:o,color:r,size:s}=e,n={root:["root",!t&&"hidden",o&&`variant${_(o)}`,r&&`color${_(r)}`,s&&`size${_(s)}`],backdrop:["backdrop"],content:["content"]};return Ce(n,Ve,{})},Ze=N(Z,{name:"JoyDrawer",slot:"Root",overridesResolver:(e,t)=>t.root})(({ownerState:e})=>y({"--Drawer-transitionDuration":"0.3s","--Drawer-transitionFunction":"ease","--ModalClose-radius":"max((var(--Drawer-contentRadius) - var(--variant-borderWidth, 0px)) - var(--ModalClose-inset), min(var(--ModalClose-inset) / 2, (var(--Drawer-contentRadius) - var(--variant-borderWidth, 0px)) / 2))"},e.size==="sm"&&{"--ModalClose-inset":"0.5rem","--Drawer-verticalSize":"clamp(350px, 30%, 100%)","--Drawer-horizontalSize":"clamp(256px, 20%, 100%)","--Drawer-titleMargin":"0.625rem 0.75rem calc(0.625rem / 2)"},e.size==="md"&&{"--ModalClose-inset":"0.5rem","--Drawer-verticalSize":"clamp(400px, 45%, 100%)","--Drawer-horizontalSize":"clamp(300px, 30%, 100%)","--Drawer-titleMargin":"0.75rem 0.75rem calc(0.75rem / 2)"},e.size==="lg"&&{"--ModalClose-inset":"0.75rem","--Drawer-verticalSize":"clamp(500px, 60%, 100%)","--Drawer-horizontalSize":"clamp(440px, 60%, 100%)","--Drawer-titleMargin":"1rem 1rem calc(1rem / 2)"},{transitionProperty:"visibility",transitionDelay:e.open?"0s":"var(--Drawer-transitionDuration)"},!e.open&&{visibility:"hidden"})),et=N(ee,{name:"JoyDrawer",slot:"Backdrop",overridesResolver:(e,t)=>t.backdrop})(({ownerState:e})=>({opacity:e.open?1:0,transition:"opacity var(--Drawer-transitionDuration) ease-in-out"})),tt=N("div",{name:"JoyDrawer",slot:"Content",overridesResolver:(e,t)=>t.content})(({theme:e,ownerState:t})=>{var o;return y({},e.typography[`body-${t.size}`],{boxShadow:e.shadow.md,backgroundColor:e.vars.palette.background.surface,outline:0,display:"flex",flexDirection:"column",position:"fixed",boxSizing:"border-box",overflow:"auto"},t.anchor==="left"&&{top:0,left:0,transform:t.open?"translateX(0)":"translateX(-100%)"},t.anchor==="right"&&{top:0,right:0,transform:t.open?"translateX(0)":"translateX(100%)"},t.anchor==="top"&&{top:0,transform:t.open?"translateY(0)":"translateY(-100%)"},t.anchor==="bottom"&&{bottom:0,transform:t.open?"translateY(0)":"translateY(100%)"},{height:t.anchor.match(/(left|right)/)?"100%":"min(100vh, var(--Drawer-verticalSize))",width:t.anchor.match(/(top|bottom)/)?"100vw":"min(100vw, var(--Drawer-horizontalSize))",transition:"transform var(--Drawer-transitionDuration) var(--Drawer-transitionFunction)"},t.variant==="solid"&&t.color&&t.invertedColors&&Ee(t.color)(e),t.variant==="soft"&&t.color&&t.invertedColors&&we(t.color)(e),(o=e.variants[t.variant])==null?void 0:o[t.color],{[`& > .${Ke.root}`]:{"--unstable_DialogTitle-margin":"var(--Drawer-titleMargin)"}})}),rt=i.forwardRef(function(t,o){const r=Re({props:t,name:"JoyDrawer"}),{children:s,anchor:n="left",container:a,disableAutoFocus:c=!1,disableEnforceFocus:p=!1,disableEscapeKeyDown:w=!1,disablePortal:b=!1,disableRestoreFocus:g=!1,disableScrollLock:E=!1,hideBackdrop:v=!1,color:d="neutral",variant:T="plain",invertedColors:S=!1,size:M="md",onClose:I,open:l,component:k,slots:R={},slotProps:z={}}=r,x=ce(r,Ge),h=y({},r,{anchor:n,disableAutoFocus:c,disableEnforceFocus:p,disableEscapeKeyDown:w,disablePortal:b,disableRestoreFocus:g,disableScrollLock:E,hideBackdrop:v,invertedColors:S,color:d,variant:T,size:M}),{getRootProps:O,getBackdropProps:D,rootRef:j,portalRef:F,isTopModal:A}=_e(y({},h,{rootRef:o,children:null})),H=Qe(h),L=y({},x,{component:k,slots:R,slotProps:z}),m=X(),u=X(),C=i.useMemo(()=>({variant:T,color:d,labelledBy:m,describedBy:u}),[d,T,m,u]),[re,oe]=W("root",{ref:j,className:H.root,elementType:Ze,externalForwardedProps:L,getSlotProps:O,ownerState:h}),[ne,se]=W("backdrop",{className:H.backdrop,elementType:et,externalForwardedProps:L,getSlotProps:D,ownerState:h}),[ae,ie]=W("content",{className:H.content,elementType:tt,additionalProps:{tabIndex:-1,role:"dialog","aria-modal":"true","aria-labelledby":m,"aria-describedby":u},externalForwardedProps:L,ownerState:h});return f.jsx(Je.Provider,{value:I,children:f.jsx(Xe.Provider,{value:M,children:f.jsx(Ue.Provider,{value:C,children:f.jsx(De,{ref:F,container:a,disablePortal:b,children:f.jsxs(re,y({},oe,{children:[v?null:f.jsx(ne,y({},se)),f.jsx(ze,{disableEnforceFocus:p,disableAutoFocus:c,disableRestoreFocus:g,isEnabled:A,open:l,children:f.jsx(ae,y({},ie,{children:s}))})]}))})})})})}),ot=rt;var te={};Object.defineProperty(te,"__esModule",{value:!0});var nt=me,st=i,B=he,at=nt.__importDefault(pe()),it=function(){var e=at.default(function(){return{x:B.isBrowser?window.pageXOffset:0,y:B.isBrowser?window.pageYOffset:0}}),t=e[0],o=e[1];return st.useEffect(function(){var r=function(){o(function(s){var n=window.pageXOffset,a=window.pageYOffset;return s.x!==n||s.y!==a?{x:n,y:a}:s})};return r(),B.on(window,"scroll",r,{capture:!1,passive:!0}),function(){B.off(window,"scroll",r)}},[]),t},lt=te.default=it;const ct=()=>{const e=de(),[t,o]=i.useState(!1);i.useEffect(()=>{o(!1)},[e.pathname]);const r=s=>n=>{n.type==="keydown"&&(n.key==="Tab"||n.key==="Shift")||o(s)};return f.jsxs(f.Fragment,{children:[f.jsx(be,{onClick:r(!0),children:f.jsx(ue.Menu,{className:"w-5 h-auto dark:text-gray-400"})}),f.jsx(ot,{anchor:"left",size:"sm",open:t,onClose:r(!1),children:f.jsx("div",{className:"w-full h-full overflow-auto px-4 bg-zinc-100 dark:bg-zinc-900",children:f.jsx(ge,{})})})]})},pt=e=>{const t=fe(),{systemStatus:o}=t.state,{className:r,children:s}=e,{sm:n}=ve(),[a]=i.useState("Memos"),{y:c}=lt();return f.jsxs("div",{className:xe("sticky top-0 pt-3 pb-2 sm:pt-2 px-4 sm:px-6 sm:mb-1 bg-zinc-100 dark:bg-zinc-900 bg-opacity-80 backdrop-blur-lg flex md:hidden flex-row justify-between items-center w-full h-auto flex-nowrap shrink-0 z-1",c>0&&"shadow-md",r),children:[f.jsxs("div",{className:"flex flex-row justify-start items-center mr-2 shrink-0 overflow-hidden",children:[!n&&f.jsx(ct,{}),f.jsx("span",{className:"font-bold text-lg leading-10 mr-1 text-ellipsis shrink-0 cursor-pointer overflow-hidden text-gray-700 dark:text-gray-300",onDoubleClick:()=>location.reload(),children:o.customizedProfile.name||a})]}),f.jsx("div",{className:"flex flex-row justify-end items-center",children:s})]})};export{ot as D,pt as M,K as o};
