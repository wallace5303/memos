import{u as g,o as m,r as x,j as t,I as a}from"./index-wLWO9-d2.js";import{c as h}from"./useResponsiveWidth-huLhTKBL.js";import{u}from"./useDebounce-KloUpVAw.js";const p=l=>{const c=g(),i=m(),s=u(),r=s.state,{tag:e,text:o,visibility:n}=r,d=!!(e||o||n);return x.useEffect(()=>{s.clearFilter()},[i]),d?t.jsxs("div",{className:h("w-full flex flex-row justify-start items-start flex-wrap gap-2 text-sm leading-7 dark:text-gray-400",l.className),children:[t.jsxs("div",{className:"shrink-0 flex flex-row justify-start items-center text-gray-400",children:[t.jsx(a.Filter,{className:"w-4 h-auto mr-1"}),t.jsxs("span",{children:[c("common.filter"),":"]})]}),t.jsxs("div",{className:"max-w-xs flex flex-row justify-start items-center px-2 mr-2 cursor-pointer dark:text-gray-400 bg-gray-200 dark:bg-zinc-800 rounded whitespace-nowrap truncate hover:line-through "+(e?"":"!hidden"),onClick:()=>{s.setTagFilter(void 0)},children:[t.jsx(a.Tag,{className:"w-4 h-auto mr-1 text-gray-500 dark:text-gray-400"})," ",e,t.jsx(a.X,{className:"w-4 h-auto ml-1 opacity-40"})]}),t.jsxs("div",{className:"max-w-xs flex flex-row justify-start items-center px-2 mr-2 cursor-pointer dark:text-gray-400 bg-gray-200 dark:bg-zinc-800 rounded whitespace-nowrap truncate hover:line-through "+(n?"":"!hidden"),onClick:()=>{s.setMemoVisibilityFilter(void 0)},children:[t.jsx(a.Eye,{className:"w-4 h-auto mr-1 text-gray-500 dark:text-gray-400"})," ",n,t.jsx(a.X,{className:"w-4 h-auto ml-1 opacity-40"})]}),t.jsxs("div",{className:"max-w-xs flex flex-row justify-start items-center px-2 mr-2 cursor-pointer dark:text-gray-400 bg-gray-200 dark:bg-zinc-800 rounded whitespace-nowrap truncate hover:line-through "+(o?"":"!hidden"),onClick:()=>{s.setTextFilter(void 0)},children:[t.jsx(a.Search,{className:"w-4 h-auto mr-1 text-gray-500 dark:text-gray-400"})," ",o,t.jsx(a.X,{className:"w-4 h-auto ml-1 opacity-40"})]})]}):null},j=()=>{const l=m(),c=u(),{tag:i,text:s}=c.state;return x.useEffect(()=>{const r=new URLSearchParams(l.search),e=r.get("tag"),o=r.get("text");e&&c.setTagFilter(e),o&&c.setTextFilter(o)},[]),x.useEffect(()=>{const r=new URLSearchParams(l.search);i?r.set("tag",i):r.delete("tag"),s?r.set("text",s):r.delete("text");const e=r.toString();window.history.replaceState({},"",`${l.pathname}${(e==null?void 0:e.length)>0?`?${e}`:""}`)},[i,s]),{tag:i,text:s}};export{p as M,j as u};
