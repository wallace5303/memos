import{r as S}from"./index-wLWO9-d2.js";import{d as y}from"./useResponsiveWidth-huLhTKBL.js";var d={};Object.defineProperty(d,"__esModule",{value:!0});var c=S,o=y,z=function(f,i,r){if(!o.isBrowser)return[i,o.noop,o.noop];if(!f)throw new Error("useLocalStorage key may not be falsy");var u=r?r.raw?function(t){return t}:r.deserializer:JSON.parse,n=c.useRef(function(t){try{var a=r?r.raw?String:r.serializer:JSON.stringify,e=localStorage.getItem(t);return e!==null?u(e):(i&&localStorage.setItem(t,a(i)),i)}catch{return i}}),l=c.useState(function(){return n.current(f)}),g=l[0],s=l[1];c.useLayoutEffect(function(){return s(n.current(f))},[f]);var m=c.useCallback(function(t){try{var a=typeof t=="function"?t(g):t;if(typeof a>"u")return;var e=void 0;r?r.raw?typeof a=="string"?e=a:e=JSON.stringify(a):r.serializer?e=r.serializer(a):e=JSON.stringify(a):e=JSON.stringify(a),localStorage.setItem(f,e),s(u(e))}catch{}},[f,s]),v=c.useCallback(function(){try{localStorage.removeItem(f),s(void 0)}catch{}},[f,s]);return[g,m,v]},b=d.default=z;export{b as _};
